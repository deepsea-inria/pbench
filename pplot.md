% The benchmark-plot tool
% Umut Acar, Arthur Chargu√©raud, Mike Rainey
% 17 October 2014

Synopsis
========


pplot [*TYPE*] [*OPTIONS_FOR_TYPE*]

or

pplot -type [*TYPE*] [*OPTIONS_FOR_TYPE*]

Description
===========

The benchmark-plot tool is a program that generates various types of
plots for given data that is generated by the benchmark-run
tool. Supported types include bar plots, scatter plots, tables, and
speedup plots. Temporary files used to generate plots and tables can
be found in the folder `_results/`.

Options
=======

Plot types
----------

The type specifier *TYPE* is one of the following: `bar`, `scatter`,
`table`, or `speedup`.

Type-specific options
---------------------

### Options common to all

`-width` *n*
:    Specify width *n* of the plot to be generated (in pixels).

`-height` *n*
:    Specify height *n* of the plot to be generated (in pixels).

`-title` *t*
:    Specify the title string *t* to be displayed in the plot.

`-input` *filename*
:    Specify a file *filename* where to read results.

`-output` *filename*
:    Specify a file *filename* where to plot results.


### Options common to `bar` and `scatter`

`-legendpos [topright|topleft|...]`
:    Select an R code for the legend (see R codes for legend or file `legend.ml`).

`-chart` *k1*,*k2*,...
:    Select a combination of keys by which to divide program runs among charts.

`-series` *k1*,*k2*,...
:    Select a combination of keys by which to divide program runs among series.

`-group_by` *k1*,*k2*,...
:    Select a combination of keys by which to divide program runs among groups.

`-y` *x*
:    Select the key to plot on the y axis.

`-ylabel` *lab*
:    Label the y axis as *lab*.

`-ymin` *n*
:    Set the origin of the y axis to *n*.

`-ymax` *n*
:    Set the maximum value of the y axis to *n*.

`--yzero`
:    Set the origin of the y axis to zero.

`--ylog`
:    Use a log scale for the y axis.

### Options for `scatter` only

`-xlabel` *lab*
:    Label the x axis as *lab*.

`-xmin` *n*
:    Set the origin of the x axis to *n*.

`-xmax` *n*
:    Set the maximum value of the x axis to *n*.

`--xzero`
:    Set the origin of the x axis to zero.

`-drawline` *n*
:    Draw a horizontal line originating from *n* on the y axis.

### Options for `bar` only:

`--xlabel_vertical`
:    Use a vertical orientation for the label of the x axis.

or:

`-x_titles_dir [horizontal|vertical]`
:    Set the orientation to use for the labels under the bars.

### Options for `table` only

`-table` *k1*,*k2*,...
:    Select a combination of keys by which to divide program runs among
     tables.

`-row` *k1*,*k2*,...
:    Select a combination of keys by which to divide program runs among
     rows of the table.

`-col` *k1*,*k2*,...
:    Select a combination of keys by which to divide program runs among
     columns of the table.

`-cell` *k*
:    Select the key whose corresponding value is to be displayed in the 
     cells of the table.

`-group_by` *k1*,*k2*,...
:    Select a combination of keys by which to divide program runs among
     groups of columns in the table.

### Options for `speedup` only
   
`-chart` *k1*,*k2*,...
:    Select a combination of keys by which to divide the program runs among
     speedup charts.

`-series` *k1*,*k2*,...
:    Select a combination of keys by which to divide the program runs among
     series.

`-group_by` *k1*,*k2*,...
:    Select a combination of keys by which to divide the program runs among
     groups.

`-legendpos [topright|topleft|...]`
:    Specify the position of the legend in the plot (see R codes for legend 
     or file `legend.ml`).

`--log`
:    Use a log scale for the speedup curves.

Examples
========

The following commands 

    make -C examples/basic fib
    make prun
    prun -prog examples/basic/fib -algo recursive,cached -n 39,40 -runs 2

    make pplot
    pplot -x n -y exectime -series algo 
    pplot bar -x n -y exectime -series algo 
    pplot bar -x n -y exectime -chart algo 
    pplot bar -x n,algo -y exectime --vertical
    pplot scatter -x n -y exectime -series algo 
    pplot table -row n -col algo -cell exectime
    pplot table -row n -table algo -cell exectime 
    pplot table -row n,algo -cell exectime 

    prun -prog examples/others/speedup.sh -proc 0,1,2,3,4 
    pplot speedup 

    prun -prog examples/others/speedup.sh -proc 0,1,2,3,4 -algo foo,bar
    pplot speedup -series algo
